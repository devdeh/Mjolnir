#include <AccelStepper.h>
#include <MultiStepper.h>

// Define some steppers and the pins the will use
AccelStepper stepper1(2, 3, 4, 5); // Defaults to 4 pins on 2, 3, 4, 5
AccelStepper stepper2(4, 6, 7, 8, 9);
AccelStepper stepper3(2, 10, 11);
MultiStepper steppers;

int up = 0;
int down = 0;
long positions[3];
long homeX = 0, homeY = 0, homeZ = up; 


void setup()
{  
    Serial.begin(9600);
    
    stepper1.setMaxSpeed(100.0);
    stepper2.setMaxSpeed(100.0);
    stepper3.setMaxSpeed(100.0);

    //Add them to multistepper:
    steppers.addStepper(stepper1);
    steppers.addStepper(stepper2);
    steppers.addStepper(stepper3);
}

void loop()
{



}

void swipe(int fromPosX, int fromPosY, int toPosX, int toPosY){
positions[0] = fromPosX;
positions[1] = fromPosY;
positions[2] = up;

posit(positions);

positions[0] = fromPosX;
positions[1] = fromPosY;
positions[2] = down;

posit(positions);

positions[0] = toPosX;
positions[1] = toPosY;
positions[2] = down;

posit(positions);

positions[0] = toPosX;
positions[1] = toPosY;
positions[2] = up;

posit(positions);
}

void tap(long tapPosX, long tapPosY){
  positions[0] = tapPosX;
  positions[1] = tapPosY;
  positions[3] = up;
  posit(positions);
  delay(500);
  zTap();
  delay(100);

}

void pressDown(long tapPosX, long tapPosY){
  positions[0] = tapPosX;
  positions[1] = tapPosY;
  positions[2] = up;
  
  posit(positions);
  zPress();
  delay(100);
 // homePos();
}

void doubleTap(long tapPosX, long tapPosY){
  positions[0] = tapPosX;
  positions[1] = tapPosY;
  positions[2] = up;

  posit(positions);
  zDoubleTap();
  delay(100);
  //homePos();
}

void posit(long pos[3]){

  for (int r = 0; r <= 3; r++ )
    {positions[pos[r]];}
  steppers.moveTo(positions);
  steppers.runSpeedToPosition();
  delay(1000);

}

void homePos(){
  
  positions[0] = homeX;
  positions[1] = homeY;
  positions[2] = up;
  
  posit(positions);
}

void zTap(){
  stepper3.moveTo(down);
  stepper3.moveTo(up);
}
void zPress(){
  stepper3.moveTo(down);
  delay(500);
  stepper3.moveTo(up);
}

void zDoubleTap(){
  stepper3.moveTo(down);
  stepper3.moveTo(up);
  stepper3.moveTo(down);
  stepper3.moveTo(up);
}
